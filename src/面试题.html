<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>


<script>
/**
 * 
 */
export default class StateTest extends Component{
    state = {
        count:0
    }
    componentDidMount() {
        this.setState({count : this.state.count+1})
        this.setState({ count: this.state.count + 1 })
        console.log("setState()",this.state.count)

        this.setState(state => ({ count:state.count+1}))
        this.setState(state => ({ count:state.count+1}))
        console.log("setState(函数方式)",this.state.count)

        setTimeout(() => {
            this.setState("setTimeout1",{ count: this.state.count + 1 })
            console.log(this.state.count)

            this.setState({ count: this.state.count + 1 })
            console.log("setTimeout2",this.state.count)
        },0)

        Promise.resolve().then(value => {
            this.setState({ count: this.state.count + 1 })
            console.log("promise2",this.state.count)

            this.setState({ count: this.state.count + 1 })
            console.log("promise2",this.state.count)
        })



    }
    render() {
        const count = this.state.count
        console.log("render",count)
        return (
            <div></div>
        )
    }
}

</script>
    
</body>
</html>